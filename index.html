<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>大数据中心</title>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css">
	<link rel="stylesheet" href="static/front/css/main.css" />
	<link rel="stylesheet" href="static/front/css/data-center.css" />

	<!-- <link rel="stylesheet" href="static/front/layui/css/layui.css"/> -->
	<style>
	#myPlayer {
		width: 1005px;
		height: 662px;
		float: left;
	}
	.modal-dialog{
		width: 1200px !important;
		height: 800px !important;
	}
	.clearfix:after {
		content: "";
		display: block;
		visibility: hidden;
		height: 0;
		clear: both;
	}

	.clearfix {
		zoom: 1;
	}

	.baseInfo {
		height: 200px;
	}

	.baseInfo li {
		float: left;
		width: 101px;
		height: 48px;
		margin-right: 22px;
		margin-top: 20px;
		padding-top: 8px;
		background: url(static/front/img/data-center/kuang-video.png)no-repeat 100% center;
		background-size: 100% 100%;
		background-color: #0b3494;
		cursor: pointer
	}

	.baseInfo li:nth-child(6n) {
		margin-right: 0;
	}

	.baseInfo li img {
		float: left;
		margin-left: 10px;
	}

	.baseInfo .baseInfoCon {
		width: 60px;
		float: right;
		font-family: Microsoft YaHei;
		font-size: 12px;
		font-weight: normal;
		font-stretch: normal;
		letter-spacing: 0.6px;
		color: #1b4dc1;
		text-align: center;
		margin-right: 5px;
	}

	.baseInfo .baseInfoCon p {
		color: #b0d3fc;
	}

	.baseInfo .baseInfoCon span {
		color: #ffffff;
	}

	.baseTitle {
		width: 690px;
		height: 74px;
		font-family: Microsoft YaHei;
		font-size: 14px;
		font-weight: normal;
		font-stretch: normal;
		line-height: 30px;
		letter-spacing: 0px;
		color: #b0d3fc;
	}

	.insecticidal li span {
		font-family: MicrosoftYaHei-Bold;
		font-size: 14px;
		font-weight: normal;
		letter-spacing: 0px;
		color: #ffffff;
	}

	.insecticidal {
		width: 162px;
		height: 117px;
		float: left;
		padding-left: 20px;
		padding-top: 27px;
		background-color: #0b3494;
		font-family: MicrosoftYaHei;
		font-size: 14px;
		font-weight: normal;
		font-stretch: normal;
		letter-spacing: 0px;
		color: #b0d3fc;
		margin-top: 5px;
	}

	.insecticidal li {
		float: left;
		margin-top: 10px;
	}

	.insecticidalInt span {
		display: inline-block;
		width: 80px;
		line-height: 26px;
		background-color: #0e3eaa;
		opacity: 0.48;
		text-align: center;
		cursor: pointer
	}

	.insecticidalInt .clickBack {
		background-color: #0e3eaa;
		opacity: 1;
	}

	.insecticidalInt {
		font-family: MicrosoftYaHei;
		font-size: 12px;
		font-weight: normal;
		font-stretch: normal;
		letter-spacing: 0px;
		color: #ffffff;
	}
	/*修改boot*/

	@media (min-width: 768px) {
		.modal-dialog {
			width: auto;
			height: auto;
			/*margin: 40px 60px;*/
		}
	}

	.modal-body {
		background-color: #1a57e0 !important;
	}

	.modal-content,
	.modal-body,
	.modal-dialog {
		height: 100%;
	}
	.modal-header{
		padding: 10px;
		background: #1a57e0;
		margin-bottom: -5px;
	}
	.modal-header span{
		display: block;
		width: 40px;
		height: 40px;
	}
	.yx_details_close11{
		background: url(static/front/img/data-center/xq-tc-icon-cha.png)no-repeat 100% center;
		background-size: 100% 100%;
	}
	.baseInfoCon span{
		position: relative;
		/*animation: firstdiv 5s linear infinite;*/
	}
	.insecticidal li span{
		position: relative;
		/*animation: firstdiv 5s linear infinite;*/
	}
	/* @keyframes firstdiv{                
		from {top:0;opacity: 1}              
		to{top:-18px;opacity: 0}              
	}  */
</style>
</head>

<body>
	<div class="yx-head">
		<div class="yx_nav">
			<h1>恩施现代化农业示范基地智慧水肥一体化系统工程数据中心</h1>
			<b class="bg_Line"></b>
		</div>
	</div>
	<div class="yx-control-center">
		<!--控制中心左侧-->
		<div class="yx-control-center_left">
			<!--控制中心左侧top-->
			<div class="agriculture_generalization">
				<!--农业企业概况详情-->
				<div class="agriculture_generalization_left_top">
					<p class="yx_data-tit">
						<b></b><span>基本概况</span>
					</p>
					<div id="pie1" style="min-width:200px;height:400px"></div>
						<!--  <div class="totalValue_pic_list">
                        <ul>
                            <li>
                                <b></b>
                                <span>凤凰山基地 :</span>
                                <span class="list_totalValue">600亩</span>
                            </li>
                            <li>
                                <b></b>
                                <span>泉河基地 :</span>
                                <span class="list_totalValue">300亩</span>
                            </li>
                            <li>
                                <b></b>
                                <span>白河基地 :</span>
                                <span class="list_totalValue">100亩</span>
                            </li>
                        </ul>
                    </div> -->
                </div>
                <!--top地图-->
                <div class="agriculture_generalization_right">
                	<div class="cb-map-spot" style="top:172px;left:300px">
                		<p>
                			<b></b><span>凤凰山基地</span>
                		</p>
                	</div>
                	<div class="cb-map-spot" style="top:341px;left:308px">
                		<p>
                			<b></b><span>泉河基地</span>
                		</p>
                	</div>
                	<div class="cb-map-spot" style="top:430px;left:161px">
                		<p>
                			<b></b><span>白河基地</span>
                		</p>
                	</div>
                </div>
                <!-- <i class="content_line"></i> -->
            </div>
            <!--视频监控bottom-->
            <div class="agriculture_visualization">
            	<p class="yx_data-tit">
            		<b></b><span>农业生产可视化</span>
            	</p>
            	<div class="agriculture_visualization_details">
            		<b class="btn_left"></b>
            		<i class="i_left"></i>
            		<ul class="dy_ksh">
            			<li onclick="videoOpen(1)">
            				<img src="static/front/img/data-center/home-img01.png" alt="" />
            				<div class="ovrly"></div>
            				<div class="buttons">
            					<a href="###" class="fa fa-link"></a>
            				</div>
            				<p class="cb_video_name">当阳-凤凰山-1</p>
            			</li>
            			<li onclick="videoOpen(2)">
            				<img src="static/front/img/data-center/home-img02.png" alt="" />
            				<div class="ovrly"></div>
            				<div class="buttons">
            					<a href="###" class="fa fa-link"></a>
            				</div>
            				<p class="cb_video_name">当阳-凤凰山-2</p>
            			</li>
            			<li onclick="videoOpen(3)">
            				<img src="static/front/img/data-center/home-img02.png" alt="" />
            				<div class="ovrly"></div>
            				<div class="buttons">
            					<a href="###" class="fa fa-link"></a>
            				</div>
            				<p class="cb_video_name">当阳-凤凰山-3</p>
            			</li>
            			<li onclick="videoOpen(4)">
            				<img src="static/front/img/data-center/home-img02.png" alt="" />
            				<div class="ovrly"></div>
            				<div class="buttons">
            					<a href="###" class="fa fa-link"></a>
            				</div>
            				<p class="cb_video_name">当阳-凤凰山-4</p>
            			</li>
            			<li onclick="videoOpen(5)">
            				<img src="static/front/img/data-center/home-img02.png" alt="" />
            				<div class="ovrly"></div>
            				<div class="buttons">
            					<a href="###" class="fa fa-link"></a>
            				</div>
            				<p class="cb_video_name">当阳-凤凰山-5</p>
            			</li>
            			<li onclick="videoOpen(6)">
            				<img src="static/front/img/data-center/home-img03.png" alt="" />
            				<div class="ovrly"></div>
            				<div class="buttons">
            					<a href="###" class="fa fa-link"></a>
            				</div>
            				<p class="cb_video_name">当阳-泉河-5</p>
            			</li>
            			<li onclick="videoOpen(7)">
            				<img src="static/front/img/data-center/home-img01.png" alt="" />
            				<div class="ovrly"></div>
            				<div class="buttons">
            					<a href="###" class="fa fa-link"></a>
            				</div>
            				<p class="cb_video_name">当阳-泉河-9</p>
            			</li>
            		</ul>
            		<b class="btn_right"></b>
            		<i class="i_right"></i>
            	</div>
            </div>
        </div>
        <!--控制中心右侧-->
        <div class="yx-control-center_right">
        	<!--基地介绍-->
        	<div class="agriculture_totalValue">
        		<div class="yx_data-tit">
        			<p><b></b><span>基地介绍</span></p>
        			<i class="content_line"></i>
        		</div>
        		<div class="baseTitle">
        			<p>基地名称：凤凰山基地</p>
        			<p>简介：阳新县春花种养殖专业合作社，办公室地址位于素有“青铜故里”、“钢铁摇篮”、“水泥故乡”和“服装新城”之称的黄石市，黄石 湖北省阳新县浮屠镇献甲村，我合作社主要提供组织成员稻谷等农作物种植；组织成员水产品养殖。</p>
        		</div>

        		<!--<div id="fhs_container1" style="width:720px;height:270px;position: relative;top: -41px;left: -2px;"></div>-->

        	</div>
        	<!--基地环境监测-->
        	<div class="agriculture_totalYield">
        		<div class="yx_data-tit">
        			<p><b></b><span>基地环境监测</span></p>
        			<i class="content_line"></i>
        		</div>
        		<!-- <div id="qh_container1" style="width:720px;height:270px;position: relative;top: -41px;left: -2px"></div> -->
        		<ul class="baseInfo clearfix">
        			<li onclick="map_detail(1)">
        				<img src="static/front/img/data-center/wendu-p.png" alt="" style="margin-top: 3px;">
        				<div class="baseInfoCon">
        					<p>土壤温度</p><i style="width: 50px;height: 16px;overflow: hidden;display: inline-block;"><span style="color: #4285f4;">35℃</span></i>
        				</div>
        			</li>
        			<li onclick="map_detail(2)">
        				<img src="static/front/img/data-center/shidu-p.png" alt="" style="margin-top: 6px;">
        				<div class="baseInfoCon">
        					<p>土壤湿度</p><i style="width: 50px;height: 16px;overflow: hidden;display: inline-block;"><span style="color: #ea4335;">57.8%</span></i>
        				</div>
        			</li>
        			<li onclick="map_detail(3)">
        				<img src="static/front/img/data-center/ph-p.png" alt="" style="margin-top: 10px;">
        				<div class="baseInfoCon">
        					<p>土壤PH值</p><i style="width: 50px;height: 16px;overflow: hidden;display: inline-block;"><span style="color:#fbbc05;">6.7</span></i>
        				</div>
        			</li>
        			<li onclick="map_detail(4)">
        				<img src="static/front/img/data-center/wendu-p.png" alt="" style="margin-top: 3px;">
        				<div class="baseInfoCon">
        					<p>空气温度</p><i style="width: 50px;height: 16px;overflow: hidden;display: inline-block;"><span style="color: #4285f4;">35℃</span></i>
        				</div>
        			</li>
        			<li onclick="map_detail(5)">
        				<img src="static/front/img/data-center/shidu-p.png" alt="" style="margin-top: 6px;">
        				<div class="baseInfoCon">
        					<p>空气湿度</p><i style="width: 50px;height: 16px;overflow: hidden;display: inline-block;"><span style="color: #34a853;">57.8%</span></i>
        				</div>
        			</li>
        			<li onclick="map_detail(6)">
        				<img src="static/front/img/data-center/co2-d.png" alt="" style="margin-top: 10px;">
        				<div class="baseInfoCon">
        					<p>CO2含量</p><i style="width: 50px;height: 16px;overflow: hidden;display: inline-block;"><span style="color: #ea4335;">57.8%</span></i>
        				</div>
        			</li>
        		</ul>
        	</div>
        	<!--水肥一体化-->
        	<div class="Integrated">
        		<div class="yx_data-tit yx_overflow">
        			<p><b></b><span>水肥一体化</span>
        				<a href="###" data-toggle="modal" data-target="#gridSystemModal" style="float: right;width: 179px;line-height: 26px;background-color: #0b3494;text-align: center;color: #fff;font-size: 12px;">水肥一体化控制</a>
        			</p>
        			<i class="content_line"></i>
        			<div class="layui-tab">
        				<div id="integrated" style="min-width:730px;height:245px;margin-top: 17px;"></div>
        			</div>
        		</div>
        	</div>
        	<div id="gridSystemModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="gridModalLabel">
        		<div class="modal-dialog" role="document">
        			<div class="modal-content">
        				<div class="modal-header">
        					<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true" class="yx_details_close11"></span></button>
        				</div>
        				<div class="modal-body">
        					<iframe src="autoControl.html" align="center" width="100%" height="100%" frameborder="no" border="0" marginwidth="0" marginheight="0" scrolling="no"></iframe>
        				</div>
        			</div>
        			<!-- /.modal-content -->
        		</div>
        		<!-- /.modal-dialog -->
        	</div>
        	<!--物联网太阳能杀虫灯-->
        	<div class="Integrated clearfix">
        		<div class="yx_data-tit yx_overflow clearfix">
        			<p><b></b><span>物联网太阳能杀虫灯</span></p>
        		</div>
        		<i class="content_line"></i>
        		<div style="margin-bottom: 30px;" class="insecticidalInt">
        			<span class="clickBack">杀虫灯1</span>
        			<span>杀虫灯2</span>
        			<span>杀虫灯3</span>
        		</div>

        		<ul class="insecticidal clearfix">
        			<li>虫情种类：<i style="width: 50px;height: 17px;overflow: hidden;display: inline-block;"><span style="color: #ea4335;">介壳虫</span></i></li>
        			<li>虫情数量：<i style="width: 60px;height: 17px;overflow: hidden;display: inline-block;"><span style="color: #34a853;">12331只</span></i></li>
        		</ul>
        		<div id="integrated1" style="min-width:530px;height:150px;float: right;"></div>
        	</div>
        </div>

        <div class="yx_map_alert">
        	<button class="yx_details_close" onclick="mapClose()"></button>

        	<div id="containerT" style="min-width:600px;height:300px;overflow: auto;"></div>
        </div>
    </div>
    <div class="yx_alert_video">
    	<video id="myPlayer" poster="" playsInline webkit-playsinline autoplay></video>
    	<i></i>
    	<b class="yx_video_close" onclick=videoClose()></b>
    </div>
    <!--个人为熟练git操作上传项目，与鑫兴禾无关-->
</body>

</html>
<script src="static/front/plugins/jquery-3.3.1.min.js"></script>
<script src="http://cdn.hcharts.cn/highcharts/highcharts.js"></script>
<script src="https://img.hcharts.cn/highcharts/modules/data.js"></script>
<script src="static/front/js/data-center.js"></script>
<script src="static/front/js/CH.js"></script>
<script src="plugins/ezuikit/ezuikit.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js"></script>
<!-- <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script> -->
<script>
	var soilC = ['12℃', '9℃', '8℃', '4℃', '5℃', '2℃', '9℃'],
	soilH = ['12%', '21%', '32%', '4%', '5%', '6%', '7%'],
	PHval = [6.7, 8, 7.2, 6.9, 7, 8.2, 8.6],
	atmosphereC = ['6℃', '8℃', '12℃', '3℃', '6℃', '8℃', '9℃'],
	atmosphereH = ['12%', '21%', '32%', '14%', '25%', '16%', '27%'],
	CO2 = ['2%', '13%', '22%', '14%', '25%', '46%', '17%'],
	chong = ['蓟马','蚜虫','介壳虫'],
	shuliang =[12452,12331,12331]
	var t;
	var index = 0;
	var index1 = 0;
	t = setInterval(play, 5000) //开启定时器t,8秒切换图表数据
	function a(){
		$('.baseInfo li span').animate({top:"18px"})
		$('.insecticidal span').animate({top:"18px"})
	}
	setInterval(a, 4698)
	function play() {
		
		index++;
		index1++;
		if(index > soilC.length) {
			index = 0
			$('.baseInfo li span').animate({top:"0"})
		}
		if(index1 > chong.length) {
			index1 = 0
			$('.insecticidal span').animate({top:"0"})
		}
		switch(index) {
			case 1: //黄金洞
			$('.baseInfo li span').animate({top:"0"})
			$('.baseInfo li span').eq(0).html(soilC[index - 1])
			$('.baseInfo li span').eq(1).html(soilH[index - 1])
			$('.baseInfo li span').eq(2).html(PHval[index - 1])
			$('.baseInfo li span').eq(3).html(atmosphereC[index - 1])
			$('.baseInfo li span').eq(4).html(atmosphereH[index - 1])
			$('.baseInfo li span').eq(5).html(CO2[index - 1])
			break;
			case 2: //小村乡
			$('.baseInfo li span').animate({top:"0"})
			$('.baseInfo li span').eq(0).html(soilC[index - 1])
			$('.baseInfo li span').eq(1).html(soilH[index - 1])
			$('.baseInfo li span').eq(2).html(PHval[index - 1])
			$('.baseInfo li span').eq(3).html(atmosphereC[index - 1])
			$('.baseInfo li span').eq(4).html(atmosphereH[index - 1])
			$('.baseInfo li span').eq(5).html(CO2[index - 1])
			break;
			case 3: //活龙坪乡
			$('.baseInfo li span').animate({top:"0"})
			$('.baseInfo li span').eq(0).html(soilC[index - 1])
			$('.baseInfo li span').eq(1).html(soilH[index - 1])
			$('.baseInfo li span').eq(2).html(PHval[index - 1])
			$('.baseInfo li span').eq(3).html(atmosphereC[index - 1])
			$('.baseInfo li span').eq(4).html(atmosphereH[index - 1])
			$('.baseInfo li span').eq(5).html(CO2[index - 1])
			break;
			case 4: //清坪镇
			$('.baseInfo li span').animate({top:"0"})
			$('.baseInfo li span').eq(0).html(soilC[index - 1])
			$('.baseInfo li span').eq(1).html(soilH[index - 1])
			$('.baseInfo li span').eq(2).html(PHval[index - 1])
			$('.baseInfo li span').eq(3).html(atmosphereC[index - 1])
			$('.baseInfo li span').eq(4).html(atmosphereH[index - 1])
			$('.baseInfo li span').eq(5).html(CO2[index - 1])
			break;
			case 5: //唐崖镇
			$('.baseInfo li span').animate({top:"0"})
			$('.baseInfo li span').eq(0).html(soilC[index - 1])
			$('.baseInfo li span').eq(1).html(soilH[index - 1])
			$('.baseInfo li span').eq(2).html(PHval[index - 1])
			$('.baseInfo li span').eq(3).html(atmosphereC[index - 1])
			$('.baseInfo li span').eq(4).html(atmosphereH[index - 1])
			$('.baseInfo li span').eq(5).html(CO2[index - 1])
			break;
			case 6: //高乐山镇
			$('.baseInfo li span').animate({top:"0"})
			$('.baseInfo li span').eq(0).html(soilC[index - 1])
			$('.baseInfo li span').eq(1).html(soilH[index - 1])
			$('.baseInfo li span').eq(2).html(PHval[index - 1])
			$('.baseInfo li span').eq(3).html(atmosphereC[index - 1])
			$('.baseInfo li span').eq(4).html(atmosphereH[index - 1])
			$('.baseInfo li span').eq(5).html(CO2[index - 1])
			break;
			default:
		}
		switch(index1) {
			case 1: //黄金洞
			$('.insecticidal span').animate({top:"0"})
			$('.insecticidal span').eq(0).html(chong[index1-1])
			$('.insecticidal span').eq(1).html(shuliang[index1-1]+'只')
			break;
			case 2: //小村乡
			$('.insecticidal span').animate({top:"0"})
			$('.insecticidal span').eq(0).html(chong[index1-1])
			$('.insecticidal span').eq(1).html(shuliang[index1-1]+'只')
			break;
			case 3: //活龙坪乡
			$('.insecticidal span').animate({top:"0"})
			$('.insecticidal span').eq(0).html(chong[index1-1])
			$('.insecticidal span').eq(1).html(shuliang[index1-1]+'只')
			break;
			default:
		}
		
	}

	function tanchu(data) {
		chart = Highcharts.chart('containerT', {
			chart: {
				zoomType: 'x'
			},
			title: {
				text: null
			},
			xAxis: {
				type: 'datetime',
				dateTimeLabelFormats: {
					millisecond: '%H:%M:%S.%L',
					second: '%H:%M:%S',
					minute: '%H:%M',
					hour: '%H:%M',
					day: '%m-%d',
					week: '%m-%d',
					month: '%Y-%m',
					year: '%Y'
				},
				labels: {
					style: {
						color: '#b0d3fc',
						fontSize: '16px',
						fontFamily: '微软雅黑'
					}
				},
			},
			tooltip: {
				dateTimeLabelFormats: {
					millisecond: '%H:%M:%S.%L',
					second: '%H:%M:%S',
					minute: '%H:%M',
					hour: '%H:%M',
					day: '%Y-%m-%d',
					week: '%m-%d',
					month: '%Y-%m',
					year: '%Y'
				}
			},
			yAxis: {
				title: {
					text: null
				},
				labels: {
					style: {
						color: '#b0d3fc',
						fontSize: '16px',
						fontFamily: '微软雅黑'
					}
				},
			},
			legend: {
				enabled: false
			},
			plotOptions: {
				area: {
					fillColor: {
						linearGradient: {
							x1: 0,
							y1: 0,
							x2: 0,
							y2: 1
						},
						stops: [
						[0, Highcharts.getOptions().colors[0]],
						[1, Highcharts.Color(Highcharts.getOptions().colors[0]).setOpacity(0).get('rgba')]
						]
					},
					marker: {
						radius: 2
					},
					lineWidth: 1,
					states: {
						hover: {
							lineWidth: 1
						}
					},
					threshold: null
				}
			},
			series: data
		});
	}
	// /*打开弹窗*/
	function map_detail(val) {
		var now = new Date(); //获取当前时间
		 
		var nowMs = now.getTime(); //获取当前时间的毫秒数
		 
		var beforeMs =  nowMs -  1000 * 60 * 60 * 24 * parseInt(6); //前几天，n就取几，整数
		 
		var beforeDate = new Date().setTime(beforeMs);
		$('.yx_map_alert').show();
		var soilC = [{
			type: 'area',
			name: '土壤温度',
			data: [8, 4, 7, 5, 6, 5, 8, 7, 5, 8, 4, 9, 2, 6, 5, 6, 3, 8, 6, 5, 2, 4, 5, 4, 6, 5, 3, 6, 6, 4, 3, 6, 3, 5, 6, 7, 3, 4, 5, 6, 7, 4, 5, 6, 5, 4, 5, 6, 5, 6, 6, 7, 8, 5, 5, 8, 5, 4, 7, 8, 5, 6, 3, 7, 4, 9, 3, 4, 5, 2, 6, 2, 7, 4, 8, 4, 5, 5, 4, 2, 5, 5, 1, 6, 4, 6, 7, 3, 6, 3, 7, 7, 3, 5, 6, 7, 7, 3, 4, 5, 6, 4, 6, 6, 3, 5, 6, 7, 5, 6, 4, 5, 6, 4, 6, 6, 4, 6, 4, 5, 6, 3, 6, 2, 10, 2, 13, 17, 13, 1, 16, 14],
			pointStart: beforeMs,
				pointInterval: 3600 * 1000 // one day
			}],
			soilH = [{
				type: 'area',
				name: '土壤湿度',
				data: [8, 4, 7, 15, 16, 5, 18, 17, 5, 18, 4, 9, 12, 6, 15, 16, 31, 8, 6, 5, 21, 14, 25, 4, 6, 15, 13, 6, 6, 14, 13, 6, 13, 15, 6, 7, 3, 4, 5, 6, 7, 4, 5, 6, 5, 14, 5, 6, 5, 6, 16, 17, 8, 5, 5, 18, 15, 14, 7, 8, 15, 16, 13, 7, 4, 9, 13, 14, 5, 22, 6, 2, 7, 4, 8, 4, 5, 5, 4, 12, 5, 5, 12, 16, 14, 16, 7, 3, 6, 3, 7, 7, 3, 5, 6, 7, 7, 3, 14, 25, 16, 24, 6, 6, 13, 15, 16, 7, 5, 6, 4, 5, 6, 4, 6, 6, 4, 6, 14, 5, 6, 3, 6, 2, 10, 2, 13, 17, 13, 1, 16, 14],
				pointStart: beforeMs,
				pointInterval: 3600 * 1000 // one day
			}],
			PHval = [{
				type: 'area',
				name: '土壤PH值',
				data: [8, 4, 7, 5, 6, 5, 18, 7, 5, 8, 4, 9, 2, 6, 5, 6, 3, 8, 6, 5, 2, 14, 5, 4, 6, 15, 3, 6, 6, 4, 3, 6, 3, 15, 6, 7, 23, 4, 5, 26, 27, 4, 5, 6, 5, 4, 5, 6, 5, 6, 6, 7, 8, 5, 5, 8, 5, 4, 7, 8, 5, 6, 3, 7, 4, 9, 3, 4, 5, 22, 6, 2, 7, 4, 8, 4, 5, 5, 4, 22, 5, 5, 12, 6, 4, 6, 27, 32, 6, 23, 7, 27, 23, 5, 6, 7, 7, 3, 4, 5, 6, 4, 6, 6, 3, 5, 6, 7, 5, 6, 4, 5, 6, 4, 6, 6, 4, 6, 4, 5, 6, 3, 6, 2, 10, 2, 13, 17, 13, 1, 16, 14],
				pointStart: beforeMs,
				pointInterval: 3600 * 1000 // one day
			}],
			atmosphereC = [{
				type: 'area',
				name: '空气温度',
				data: [8, 4, 7, 5, 6, 5, 8, 7, 5, 18, 14, 19, 2, 16, 5, 6, 3, 8, 6, 5, 2, 4, 5, 4, 6, 5, 3, 16, 16, 4, 3, 6, 3, 5, 16, 7, 3, 4, 15, 6, 7, 4, 5, 6, 5, 14, 5, 6, 5, 6, 6, 7, 8, 5, 5, 8, 5, 4, 7, 8, 5, 6, 3, 7, 41, 9, 3, 4, 5, 2, 6, 2, 7, 4, 8, 4, 5, 5, 4, 2, 5, 5, 1, 6, 4, 6, 7, 3, 6, 3, 7, 7, 3, 5, 6, 7, 7, 3, 4, 5, 6, 4, 6, 6, 3, 5, 6, 7, 5, 6, 4, 5, 6, 4, 6, 6, 4, 6, 4, 5, 6, 3, 6, 2, 10, 2, 13, 17, 13, 1, 16, 14],
				pointStart: beforeMs,
				pointInterval: 3600 * 1000 // one day
			}],
			atmosphereH = [{
				type: 'area',
				name: '空气湿度',
				data: [8, 4, 17, 5, 6, 5, 18, 7, 5, 8, 14, 9, 22, 6, 5, 6, 3, 8, 16, 15, 2, 14, 5, 4, 6, 5, 13, 6, 6, 4, 13, 6, 3, 5, 6, 7, 3, 4, 5, 6, 7, 4, 25, 6, 5, 4, 5, 6, 5, 6, 6, 7, 8, 5, 5, 8, 5, 34, 7, 8, 5, 6, 3, 7, 4, 9, 3, 4, 5, 2, 6, 2, 7, 14, 8, 34, 5, 5, 4, 2, 5, 5, 1, 6, 4, 6, 7, 3, 6, 3, 7, 7, 3, 5, 6, 7, 7, 3, 4, 5, 6, 4, 6, 6, 3, 5, 6, 7, 5, 6, 24, 5, 6, 4, 6, 6, 4, 6, 4, 5, 6, 3, 6, 2, 10, 2, 13, 17, 13, 1, 16, 14],
				pointStart: beforeMs,
				pointInterval: 3600 * 1000 // one day
			}],
			CO2 = [{
				type: 'area',
				name: 'CO2含量',
				data: [8, 4, 7, 5, 61, 15, 8, 17, 15, 8, 14, 9, 2, 6, 5, 6, 23, 28, 6, 5, 2, 4, 5, 4, 6, 5, 3, 6, 6, 14, 31, 6, 3, 5, 6, 7, 13, 14, 5, 16, 7, 14, 5, 6, 5, 4, 5, 6, 5, 6, 6, 7, 8, 5, 5, 8, 5, 4, 7, 8, 5, 16, 3, 7, 4, 9, 3, 4, 5, 2, 6, 2, 7, 4, 8, 4, 5, 5, 4, 2, 5, 5, 11, 6, 4, 6, 7, 3, 6, 3, 7, 7, 3, 5, 6, 7, 7, 3, 4, 5, 6, 4, 6, 6, 3, 5, 6, 7, 5, 6, 4, 5, 6, 4, 6, 6, 4, 6, 4, 5, 6, 3, 6, 2, 10, 2, 13, 17, 13, 1, 16, 14],
				pointStart: beforeMs,
				pointInterval: 3600 * 1000 // one day
			}]
			switch(val) {
			case 1: //黄金洞
			tanchu(soilC)
			/*tanchu(soilC)*/
			break;
			case 2: //小村乡
			tanchu(soilH)
			break;
			case 3: //活龙坪乡
			tanchu(PHval)
			break;
			case 4: //清坪镇
			tanchu(atmosphereC)
			break;
			case 5: //唐崖镇
			tanchu(atmosphereH)
			break;
			case 6: //高乐山镇
			tanchu(CO2)
			break;
			default:
		}

	}
	//关闭地图弹窗
	function mapClose() {
		$(".yx_map_alert").hide();
	}
	function bchData(){
		
	}
</script>
<!--基本状况数据-->
<script>
	function pieCharts(id, data, rSize, text, enabled) {
		var chart = Highcharts.chart(id, {
			chart: {
				type: 'pie'
			},
			colors: [ //此处设置环图各种填充颜色
			'#0FF9CA',
			'#F3FA3B',
			'#FF5EF9',
			'#7095FF'
			],
			title: { //标题设置
				text: text,
				verticalAlign: 'middle',
				y: 5,
				useHtml: true,
				style: {
					color: '#B0D3FC',
					fontSize: '12px',
					fontFamily: '微软雅黑'
				}

			},
			tooltip: {
				pointFormat: '{series.name}: <b>{point.y}</b>家'
			},
			plotOptions: {
				pie: {
					size: rSize.size,
					innerSize: rSize.innerSize,
					allowPointSelect: true,
					cursor: 'pointer',
					dataLabels: {
						enabled: rSize.enabled
					},
					showInLegend: rSize.showInLegend,
					point: {
						events: {
							mouseOver: function(e) { // 鼠标滑过时动态更新标题
								if(text) {
									chart.setTitle({
										text: e.target.name + '\t' + e.target.y + '亩'
									});
								}
							}
						}
					}
				}

			},
			legend: { // 图例显示位置
				layout: 'vertical',
				symbolRadius: 0,
				symbolHeight: 14,
				symbolWidth: 14,
				x: 10,
				y: 0,
				floating: true,
				labelFormat: '{name}：{y}亩', //图例数据
				itemStyle: {
					color: '#b0d3fc',
					fontSize: '14px'
				}
			},
			credits: { // 右下角水印
				enabled: true,
				text: '',
				href: ''
			},
			series: [{
				name: '数量',
				colorByPoint: true,
				data: data
			}]
		});
	}
	var chart = Highcharts.chart('integrated', {
		chart: {
			type: 'column'
		},
		title: {
			text: null
		},
		legend: {　　
			align: 'right', //程度标的目标地位
			　　verticalAlign: 'top', //垂直标的目标地位
			　　x: 0, //间隔x轴的间隔
			　　y: 0, //间隔Y轴的间隔
			symbolHeight: 12,
			symbolWidth: 16,
			symbolRadius: 0,
			itemStyle: {
				color: '#b0d3fc',
				fontSize: '14px'
			}
		},
		xAxis: {
			categories: [
			'二月', '三月', '四月', '五月', '六月', '七月', '八月', '九月', '十月', '十一月', '十二月', '一月'
			],
			labels: {
				style: {
					color: '#b0d3fc',
					fontSize: '16px',
					fontFamily: '微软雅黑'
				}
			},
		},
		yAxis: {
			title: null,
			labels: {
				style: {
					color: '#6bb0ff',
					fontSize: '16px',
					fontFamily: '微软雅黑'
				}
			},
		},
		plotOptions: {
			column: {
				borderWidth: 0
			}
		},
		series: [{
			name: '水',
			color: '#6bfaff',
			data: [49.9, 71.5, 106.4, 129.2, 144.0, 176.0, 106.4, 129.2, 106.4, 129.2, 106.4, 129.2]
		}, {
			name: '肥',
			color: '#ffff00',
			data: [49.9, 71.5, 106.4, 129.2, 144.0, 176.0, 106.4, 129.2, 106.4, 129.2, 106.4, 129.2]
		}]
	});
	var browsers3 = [{
		name: '凤凰山基地',
		color: '#0ff9ca',
		y: 600
	}, {
		name: '白河基地',
		color: '#ff5ef9',
		y: 600
	}, {
		name: '泉河基地',
		color: '#7095ff',
		y: 800
	}]
	var rSize1 = {
		size: 150,
		innerSize: 130,
		enabled: false,
		showInLegend: true
	};
	pieCharts('pie1', browsers3, rSize1, 2000 + '亩');

	/*var chart = null;
	// 获取 CSV 数据并初始化图表
	$.getJSON('https://data.jianshukeji.com/jsonp?filename=csv/analytics.csv&callback=?', function (csv) {
	    chart = Highcharts.chart('integrated1', {
	        data: {
	            csv: csv
	        },
	        title: {
	            text: null
	        },
	        xAxis: {
	            tickInterval: 7 * 24 * 3600 * 1000, // 坐标轴刻度间隔为一星期
	            tickWidth: 0,
	            gridLineWidth: 1,
	            labels: {
	                align: 'left',
	                x: 3,
	                y: -3,
	                style: {
	                    color: '#b0d3fc',
	                    fontSize:'16px',
	                    fontFamily:'微软雅黑'
	                }
	            },
	            // 时间格式化字符
	            // 默认会根据当前的刻度间隔取对应的值，即当刻度间隔为一周时，取 week 值
	            dateTimeLabelFormats: {
	                week: '%Y-%m-%d'
	            }
	        },
	        yAxis: [{ // 第一个 Y 轴，放置在左边（默认在坐标）
	            title: {
	                text: null
	            },
	            labels: {
	                align: 'left',
	                x: 3,
	                y: 16,
	                format: '{value:.,0f}',
	                style: {
	                    color: '#b0d3fc',
	                    fontSize:'16px',
	                    fontFamily:'微软雅黑'
	                }

	            },
	            showFirstLabel: false
	        }, {    // 第二个坐标轴，放置在右边
	            linkedTo: 0,
	            gridLineWidth: 0,
	            opposite: true,  // 通过此参数设置坐标轴显示在对立面
	            title: {
	                text: null
	            },
	            labels: {
	                align: 'right',
	                x: -3,
	                y: 16,
	                format: '{value:.,0f}'
	            },
	            showFirstLabel: false
	        }],
	        legend: {
	            　　enabled: false    
	        },
	        tooltip: {
	            shared: true,
	            crosshairs: true,
	            // 时间格式化字符
	            // 默认会根据当前的数据点间隔取对应的值
	            // 当前图表中数据点间隔为 1天，所以配置 day 值即可
	            dateTimeLabelFormats: {
	                day: '%Y-%m-%d'
	            }
	        }
	    });
	});*/
	function integrated(id, data) {
		var chart = Highcharts.chart(id, {
			chart: {
				type: 'spline'
			},
			title: {
				text: null
			},
			xAxis: {
				type: 'datetime',
				dateTimeLabelFormats: {
					millisecond: '%H:%M:%S.%L',
					second: '%H:%M:%S',
					minute: '%H:%M',
					hour: '%H:%M',
					day: '%m-%d',
					week: '%m-%d',
					month: '%Y-%m',
					year: '%Y'
				},
				labels: {
					style: {
						color: '#b0d3fc',
						fontSize: '16px',
						fontFamily: '微软雅黑'
					}
				},
			},
			legend: {
				enabled: false
			},
			colors: ['#6CF', '#39F', '#06C', '#036', '#000'],
			yAxis: {
				title: null,
				labels: {
					style: {
						color: '#b0d3fc',
						fontSize: '16px',
						fontFamily: '微软雅黑'
					}
				},
			},
			tooltip: {
				headerFormat: '<b>{series.name}</b><br>',
				pointFormat: '{point.x:%e. %b}: {point.y} 只'
			},
			plotOptions: {
				spline: {
					marker: {
						enabled: false
					}
				}
			},
			series: data
		});
	}
	var now = new Date(); //获取当前时间
	 
	var nowMs = now.getTime(); //获取当前时间的毫秒数
	 
	var beforeMs =  nowMs -  1000 * 60 * 60 * 24 * parseInt(6); //前几天，n就取几，整数
	 
	var beforeDate = new Date().setTime(beforeMs);
	integrated('integrated1', [{
		type: 'area',
		name: '杀虫灯1',
		data: [8, 4, 7, 5, 61, 15, 8, 17, 15, 8, 14, 9, 2, 6, 5, 6, 23, 28, 6, 5, 2, 4, 5, 4, 6, 5, 3, 6, 6, 14, 31, 6, 3, 5, 6, 7, 13, 14, 5, 16, 7, 14, 5, 6, 5, 4, 5, 6, 5, 6, 6, 7, 8, 5, 5, 8, 5, 4, 7, 8, 5, 16, 3, 7, 4, 9, 3, 4, 5, 2, 6, 2, 7, 4, 8, 4, 5, 5, 4, 2, 5, 5, 11, 6, 4, 6, 7, 3, 6, 3, 7, 7, 3, 5, 6, 7, 7, 3, 4, 5, 6, 4, 6, 6, 3, 5, 6, 7, 5, 6, 4, 5, 6, 4, 6, 6, 4, 6, 4, 5, 6, 3, 6, 2, 10, 2, 13, 17, 13, 1, 16, 14],
		pointStart: beforeMs,
		pointInterval: 3600 * 1000 // one day
	}])
	$(".insecticidalInt span").click(function() {
		$(this).addClass("clickBack").siblings().removeClass("clickBack");
		if($(this).html() == '杀虫灯2') {
			/*$('.insecticidal span').eq(0).html('蚜虫')
			$('.insecticidal span').eq(1).html('3549只')*/
			integrated('integrated1', [{
				type: 'area',
				name: '杀虫灯2',
				data: [8, 4, 7, 5, 61, 15, 8, 17, 15, 8, 14, 9, 2, 6, 5, 6, 23, 28, 6, 5, 2, 4, 5, 4, 6, 5, 3, 6, 6, 14, 31, 6, 3, 5, 6, 7, 13, 14, 5, 16, 7, 14, 5, 6, 5, 4, 5, 6, 5, 6, 6, 7, 8, 5, 5, 8, 5, 4, 7, 8, 5, 16, 3, 7, 4, 9, 3, 4, 5, 2, 6, 2, 7, 4, 8, 4, 5, 5, 4, 2, 5, 5, 11, 6, 4, 6, 7, 3, 6, 3, 7, 7, 3, 5, 6, 7, 7, 3, 4, 5, 6, 4, 6, 6, 3, 5, 6, 7, 5, 6, 4, 5, 6, 4, 6, 6, 4, 6, 4, 5, 6, 3, 6, 2, 10, 2, 13, 17, 13, 1, 16, 14],
				pointStart: beforeMs,
				pointInterval: 3600 * 1000 // one day
			}])
		} else if($(this).html() == '杀虫灯3') {
			/*$('.insecticidal span').eq(0).html('蓟马')
			$('.insecticidal span').eq(1).html('5323只')*/
			integrated('integrated1', [{
				type: 'area',
				name: '杀虫灯3',
				data: [8, 4, 7, 5, 61, 15, 8, 17, 15, 8, 14, 9, 2, 6, 5, 6, 23, 28, 6, 5, 2, 4, 5, 4, 6, 5, 3, 6, 6, 14, 31, 6, 3, 5, 6, 7, 13, 14, 5, 16, 7, 14, 5, 6, 5, 4, 5, 6, 5, 6, 6, 7, 8, 5, 5, 8, 5, 4, 7, 8, 5, 16, 3, 7, 4, 9, 3, 4, 5, 2, 6, 2, 7, 4, 8, 4, 5, 5, 4, 2, 5, 5, 11, 6, 4, 6, 7, 3, 6, 3, 7, 7, 3, 5, 6, 7, 7, 3, 4, 5, 6, 4, 6, 6, 3, 5, 6, 7, 5, 6, 4, 5, 6, 4, 6, 6, 4, 6, 4, 5, 6, 3, 6, 2, 10, 2, 13, 17, 13, 1, 16, 14],
				pointStart: beforeMs,
				pointInterval: 3600 * 1000 // one day
			}])
		} else {
			/*$('.insecticidal span').eq(0).html('介壳虫')
			$('.insecticidal span').eq(1).html('1956只')*/
			integrated('integrated1', [{
				type: 'area',
				name: '杀虫灯1',
				data: [8, 4, 7, 5, 61, 15, 8, 17, 15, 8, 14, 9, 2, 6, 5, 6, 23, 28, 6, 5, 2, 4, 5, 4, 6, 5, 3, 6, 6, 14, 31, 6, 3, 5, 6, 7, 13, 14, 5, 16, 7, 14, 5, 6, 5, 4, 5, 6, 5, 6, 6, 7, 8, 5, 5, 8, 5, 4, 7, 8, 5, 16, 3, 7, 4, 9, 3, 4, 5, 2, 6, 2, 7, 4, 8, 4, 5, 5, 4, 2, 5, 5, 11, 6, 4, 6, 7, 3, 6, 3, 7, 7, 3, 5, 6, 7, 7, 3, 4, 5, 6, 4, 6, 6, 3, 5, 6, 7, 5, 6, 4, 5, 6, 4, 6, 6, 4, 6, 4, 5, 6, 3, 6, 2, 10, 2, 13, 17, 13, 1, 16, 14],
				pointStart: beforeMs,
				pointInterval: 3600 * 1000 // one day
			}])
		}

	})
</script>